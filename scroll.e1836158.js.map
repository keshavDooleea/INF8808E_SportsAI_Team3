{"version":3,"sources":["scroll.js"],"names":["mainContainer","document","querySelector","dots","querySelectorAll","chartNb","sectionIds","dotActiveClass","scrollOffset","main","sectionsBoundingBoxes","map","sectionId","index","dot","boundingBox","getBoundingClientRect","addEventListener","forEach","box","rect","offsetTop","scrollTop","top","bottom","classList","add","setChartNb","remove","activateDot","dotIndex","scrollIntoView","number","textContent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA,IAAMA,aAAa,GAAGC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAtB;AACA,IAAMC,IAAI,GAAGF,QAAQ,CAACG,gBAAT,CAA0B,sBAA1B,CAAb;AACA,IAAMC,OAAO,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAhB,EAEA;;AACA,IAAMI,UAAU,GAAG,CAAC,cAAD,EAAiB,gBAAjB,EAAmC,YAAnC,EAAiD,aAAjD,CAAnB,EAEA;;AACA,IAAMC,cAAc,GAAG,QAAvB;AACA,IAAMC,YAAY,GAAG,CAArB;AAEAC,IAAI;;AAEJ,SAASA,IAAT,GAAgB;EACd;EACA,IAAMC,qBAAqB,GAAGJ,UAAU,CAACK,GAAX,CAAe,UAACC,SAAD,EAAYC,KAAZ,EAAsB;IACjE,OAAO;MACLD,SAAS,EAATA,SADK;MAELE,GAAG,EAAEX,IAAI,CAACU,KAAD,CAFJ;MAGLE,WAAW,EAAEd,QAAQ,CAACC,aAAT,CAAuBU,SAAvB,EAAkCI,qBAAlC;IAHR,CAAP;EAKD,CAN6B,CAA9B,CAFc,CAUd;;EACAhB,aAAa,CAACiB,gBAAd,CAA+B,QAA/B,EAAyC,YAAM;IAC7CP,qBAAqB,CAACQ,OAAtB,CAA8B,UAACC,GAAD,EAAMN,KAAN,EAAgB;MAC5C,IAAMO,IAAI,GAAGD,GAAG,CAACJ,WAAjB;MACA,IAAMM,SAAS,GAAGrB,aAAa,CAACsB,SAAhC;;MAEA,IAAID,SAAS,GAAGD,IAAI,CAACG,GAAL,GAAWf,YAAvB,IAAuCa,SAAS,GAAGD,IAAI,CAACI,MAAL,GAAchB,YAArE,EAAmF;QACjFW,GAAG,CAACL,GAAJ,CAAQW,SAAR,CAAkBC,GAAlB,CAAsBnB,cAAtB;QACAoB,UAAU,CAACd,KAAK,GAAG,CAAT,CAAV;MACD,CAHD,MAGO;QACLM,GAAG,CAACL,GAAJ,CAAQW,SAAR,CAAkBG,MAAlB,CAAyBrB,cAAzB;MACD;IACF,CAVD;EAWD,CAZD;EAcAJ,IAAI,CAACe,OAAL,CAAa,UAACJ,GAAD,EAAMD,KAAN,EAAgB;IAC3BC,GAAG,CAACG,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;MAClCY,WAAW,CAAChB,KAAD,CAAX;IACD,CAFD;EAGD,CAJD;;EAMA,SAASgB,WAAT,CAAqBhB,KAArB,EAA4B;IAC1BV,IAAI,CAACe,OAAL,CAAa,UAACJ,GAAD,EAAMgB,QAAN,EAAmB;MAC9B,IAAIjB,KAAK,KAAKiB,QAAd,EAAwB;QACtB3B,IAAI,CAACU,KAAD,CAAJ,CAAYY,SAAZ,CAAsBC,GAAtB,CAA0BnB,cAA1B;QACAoB,UAAU,CAACd,KAAK,GAAG,CAAT,CAAV;QACAZ,QAAQ,CAACC,aAAT,CAAuBI,UAAU,CAACO,KAAD,CAAjC,EAA0CkB,cAA1C;MACD,CAJD,MAIO;QACLjB,GAAG,CAACW,SAAJ,CAAcG,MAAd,CAAqBrB,cAArB;MACD;IACF,CARD;EASD;;EAED,SAASoB,UAAT,CAAoBK,MAApB,EAA4B;IAC1B3B,OAAO,CAAC4B,WAAR,GAAsBD,MAAtB;EACD;AACF","file":"scroll.e1836158.js","sourceRoot":"..\\src","sourcesContent":["// retrieve DOM HTML elements\r\nconst mainContainer = document.querySelector(\"#viz-container\");\r\nconst dots = document.querySelectorAll(\".dots-container .dot\");\r\nconst chartNb = document.querySelector(\"#chart-nb\");\r\n\r\n// ids of 4 sections each holding a svg\r\nconst sectionIds = [\"#radar-chart\", \"#stacked-chart\", \"#bar-chart\", \"#line-chart\"];\r\n\r\n// variables\r\nconst dotActiveClass = \"active\";\r\nconst scrollOffset = 1;\r\n\r\nmain();\r\n\r\nfunction main() {\r\n  // get the rectangle attributes (x, y, width, height, top, bottom) of each sections\r\n  const sectionsBoundingBoxes = sectionIds.map((sectionId, index) => {\r\n    return {\r\n      sectionId,\r\n      dot: dots[index],\r\n      boundingBox: document.querySelector(sectionId).getBoundingClientRect(),\r\n    };\r\n  });\r\n\r\n  // add listener to main container to update window's hash and sidebar dots\r\n  mainContainer.addEventListener(\"scroll\", () => {\r\n    sectionsBoundingBoxes.forEach((box, index) => {\r\n      const rect = box.boundingBox;\r\n      const offsetTop = mainContainer.scrollTop;\r\n\r\n      if (offsetTop > rect.top - scrollOffset && offsetTop < rect.bottom - scrollOffset) {\r\n        box.dot.classList.add(dotActiveClass);\r\n        setChartNb(index + 2);\r\n      } else {\r\n        box.dot.classList.remove(dotActiveClass);\r\n      }\r\n    });\r\n  });\r\n\r\n  dots.forEach((dot, index) => {\r\n    dot.addEventListener(\"click\", () => {\r\n      activateDot(index);\r\n    });\r\n  });\r\n\r\n  function activateDot(index) {\r\n    dots.forEach((dot, dotIndex) => {\r\n      if (index === dotIndex) {\r\n        dots[index].classList.add(dotActiveClass);\r\n        setChartNb(index + 1);\r\n        document.querySelector(sectionIds[index]).scrollIntoView();\r\n      } else {\r\n        dot.classList.remove(dotActiveClass);\r\n      }\r\n    });\r\n  }\r\n\r\n  function setChartNb(number) {\r\n    chartNb.textContent = number;\r\n  }\r\n}\r\n"]}