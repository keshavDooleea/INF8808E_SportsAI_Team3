{"version":3,"sources":["scroll.js"],"names":["mainContainer","document","querySelector","dots","querySelectorAll","chartNb","sectionIds","dotActiveClass","scrollOffset","main","activateDot","sectionsBoundingBoxes","map","sectionId","index","dot","boundingBox","getBoundingClientRect","addEventListener","forEach","box","rect","offsetTop","scrollTop","top","bottom","classList","add","setChartNb","remove","dotIndex","scrollIntoView","number","textContent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA,IAAMA,aAAa,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAtB;AACA,IAAMC,IAAI,GAAGF,QAAQ,CAACG,gBAAT,CAA0B,sBAA1B,CAAb;AACA,IAAMC,OAAO,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAhB,EAEA;;AACA,IAAMI,UAAU,GAAG,CAAC,cAAD,EAAiB,gBAAjB,EAAmC,YAAnC,EAAiD,aAAjD,CAAnB,EAEA;;AACA,IAAMC,cAAc,GAAG,QAAvB;AACA,IAAMC,YAAY,GAAG,CAArB;AAEAC,IAAI;;AAEJ,SAASA,IAAT,GAAgB;EACdC,WAAW,CAAC,CAAD,CAAX,CADc,CAGd;;EACA,IAAMC,qBAAqB,GAAGL,UAAU,CAACM,GAAX,CAAe,UAACC,SAAD,EAAYC,KAAZ,EAAsB;IACjE,OAAO;MACLD,SAAS,EAATA,SADK;MAELE,GAAG,EAAEZ,IAAI,CAACW,KAAD,CAFJ;MAGLE,WAAW,EAAEf,QAAQ,CAACC,aAAT,CAAuBW,SAAvB,EAAkCI,qBAAlC;IAHR,CAAP;EAKD,CAN6B,CAA9B,CAJc,CAYd;;EACAjB,aAAa,CAACkB,gBAAd,CAA+B,QAA/B,EAAyC,YAAM;IAC7CP,qBAAqB,CAACQ,OAAtB,CAA8B,UAACC,GAAD,EAAMN,KAAN,EAAgB;MAC5C,IAAMO,IAAI,GAAGD,GAAG,CAACJ,WAAjB;MACA,IAAMM,SAAS,GAAGtB,aAAa,CAACuB,SAAhC;;MAEA,IAAID,SAAS,GAAGD,IAAI,CAACG,GAAL,GAAWhB,YAAvB,IAAuCc,SAAS,GAAGD,IAAI,CAACI,MAAL,GAAcjB,YAArE,EAAmF;QACjFY,GAAG,CAACL,GAAJ,CAAQW,SAAR,CAAkBC,GAAlB,CAAsBpB,cAAtB;QACAqB,UAAU,CAACd,KAAK,GAAG,CAAT,CAAV;MACD,CAHD,MAGO;QACLM,GAAG,CAACL,GAAJ,CAAQW,SAAR,CAAkBG,MAAlB,CAAyBtB,cAAzB;MACD;IACF,CAVD;EAWD,CAZD;EAcAJ,IAAI,CAACgB,OAAL,CAAa,UAACJ,GAAD,EAAMD,KAAN,EAAgB;IAC3BC,GAAG,CAACG,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;MAClCR,WAAW,CAACI,KAAD,CAAX;IACD,CAFD;EAGD,CAJD;;EAMA,SAASJ,WAAT,CAAqBI,KAArB,EAA4B;IAC1BX,IAAI,CAACgB,OAAL,CAAa,UAACJ,GAAD,EAAMe,QAAN,EAAmB;MAC9B,IAAIhB,KAAK,KAAKgB,QAAd,EAAwB;QACtB3B,IAAI,CAACW,KAAD,CAAJ,CAAYY,SAAZ,CAAsBC,GAAtB,CAA0BpB,cAA1B;QACAqB,UAAU,CAACd,KAAK,GAAG,CAAT,CAAV;QACAb,QAAQ,CAACC,aAAT,CAAuBI,UAAU,CAACQ,KAAD,CAAjC,EAA0CiB,cAA1C;MACD,CAJD,MAIO;QACLhB,GAAG,CAACW,SAAJ,CAAcG,MAAd,CAAqBtB,cAArB;MACD;IACF,CARD;EASD;;EAED,SAASqB,UAAT,CAAoBI,MAApB,EAA4B;IAC1B3B,OAAO,CAAC4B,WAAR,GAAsBD,MAAtB;EACD;AACF","file":"scroll.5bf319f1.js","sourceRoot":"..\\src","sourcesContent":["// retrieve DOM HTML elements\r\nconst mainContainer = document.querySelector(\"main\");\r\nconst dots = document.querySelectorAll(\".dots-container .dot\");\r\nconst chartNb = document.querySelector(\"#chart-nb\");\r\n\r\n// ids of 4 sections each holding a svg\r\nconst sectionIds = [\"#radar-chart\", \"#stacked-chart\", \"#bar-chart\", \"#line-chart\"];\r\n\r\n// variables\r\nconst dotActiveClass = \"active\";\r\nconst scrollOffset = 1;\r\n\r\nmain();\r\n\r\nfunction main() {\r\n  activateDot(0);\r\n\r\n  // get the rectangle attributes (x, y, width, height, top, bottom) of each sections\r\n  const sectionsBoundingBoxes = sectionIds.map((sectionId, index) => {\r\n    return {\r\n      sectionId,\r\n      dot: dots[index],\r\n      boundingBox: document.querySelector(sectionId).getBoundingClientRect(),\r\n    };\r\n  });\r\n\r\n  // add listener to main container to update window's hash and sidebar dots\r\n  mainContainer.addEventListener(\"scroll\", () => {\r\n    sectionsBoundingBoxes.forEach((box, index) => {\r\n      const rect = box.boundingBox;\r\n      const offsetTop = mainContainer.scrollTop;\r\n\r\n      if (offsetTop > rect.top - scrollOffset && offsetTop < rect.bottom - scrollOffset) {\r\n        box.dot.classList.add(dotActiveClass);\r\n        setChartNb(index + 1);\r\n      } else {\r\n        box.dot.classList.remove(dotActiveClass);\r\n      }\r\n    });\r\n  });\r\n\r\n  dots.forEach((dot, index) => {\r\n    dot.addEventListener(\"click\", () => {\r\n      activateDot(index);\r\n    });\r\n  });\r\n\r\n  function activateDot(index) {\r\n    dots.forEach((dot, dotIndex) => {\r\n      if (index === dotIndex) {\r\n        dots[index].classList.add(dotActiveClass);\r\n        setChartNb(index + 1);\r\n        document.querySelector(sectionIds[index]).scrollIntoView();\r\n      } else {\r\n        dot.classList.remove(dotActiveClass);\r\n      }\r\n    });\r\n  }\r\n\r\n  function setChartNb(number) {\r\n    chartNb.textContent = number;\r\n  }\r\n}\r\n"]}